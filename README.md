# 🎬 Catalog of Movies — Каталог фільмів

Каталог фільмів — це невеликий навчальний проєкт, створений у рамках лабораторних робіт.  
Мета — розробити повноцінний застосунок із поступовим ускладненням: від вибору ідеї та структурування системи до інтерактивного прототипу, підключення бази даних, тестування та розгортання.

---

## Над проектом працювали:

- Студент третього курсу, групи ІМ-31 **Shcherbakov Illia** [Telegram](https://t.me/Ilya_net)
- Студент третього курсу, групи ІА-31 **Oleia Mykhailo** [Telegram](https://t.me/hoityk)


---

## 📌 Мета проєкту

Створити застосунок, який дозволяє користувачам переглядати, шукати, фільтрувати та управляти інформацією про фільми.  
Проєкт демонструє основні принципи побудови архітектури, структурування коду, роботи з даними та інтеграції з зовнішніми джерелами.

---

## 🎯 Основний функціонал

### ✔ Базові можливості:
- Перегляд списку фільмів  
- Пошук фільмів за назвою  
- Фільтрація за жанром  
- Перегляд детальної інформації про фільм  
- Додавання нового фільму  
- Оновлення фільму  
- Видалення фільму  

## 🧩 Мотивація

Проєкт обраний, тому що він:
- простий для старту;
- має чітку структуру даних;
- дозволяє демонструвати CRUD-операції;
- легко масштабується (API, UI, БД);
- підходить для покрокового виконання 6 лабораторних робіт.

---

# Структура застосунку

Застосунок логічно поділено на окремі модулі відповідно до принципів розділення відповідальностей.

## Основні модулі

* **data** — відповідає за структуру та зберігання даних про фільми.
* **services** — містить бізнес-логіку: пошук, фільтрація, CRUD-операції.
* **cli** — забезпечує текстовий інтерфейс взаємодії з користувачем.
* **config** — включає налаштування форматування, структуру директорій, лінтер.
* **tests** — містить модуль для розробки майбутніх тестів.

---

## Діаграма компонентів

Нижче наведено логічну діаграму компонентів програмного забезпечення:

```
┌─────────────────────────────────────────────────────────────┐
│                       ІНТЕРФЕЙС (CLI)                       │
│                         catalog.py                          │
│        (Координація роботи фільмів та користувачів)         │
└───────────────┬─────────────────────────────┬───────────────┘
                │                             │
                │ Імпорт                      │ Імпорт
                ▼                             ▼
┌─────────────────────────────┐       ┌───────────────────────┐
│       MOVIE SERVICE         │       │     USER SERVICE      │
│ ─────────────────────────── │       │ ───────────────────── │
│  • movies_repository.py     │       │  • users_repository.py│
│  • routes.py (Flask)        │       │  • routes.py (Flask)  │
│  • validation_unit.py       │       │  • validation.py      │
└───────────────┬─────────────┘       └─────────────┬─────────┘
                │                                   │
                │       Виклик функції              │
                │      get_connection()             │
                └───────────────┬───────────────────┘
                                ▼
                ┌─────────────────────────────┐
                │       INFRASTRUCTURE        │
                │  movie_service/connection.py│
                │ (MySQL Driver & Credentials)│
                └───────────────┬─────────────┘
                                │
                                │ SQL (Port 3306)
                                ▼
                ┌─────────────────────────────┐
                │          DATABASE           │
                │        MySQL Server         │
                │  (DB: movie_catalog)        │
                │  ├── Table: movies          │
                │  └── Table: users           │
                └─────────────────────────────┘

```

**Component Flow:**
`CLI (catalog.py) → Services (Movie/User) → Infrastructure (connection.py) → Database (MySQL)`


---

## Модель даних (ER-діаграма)

У системі використовується одна сутність — **Movie**.

```
+------------------------------+
|           Movie              |
+------------------------------+
| id : integer                 |
| title : string               |
| year : integer               |
| genre : string               |
| rating : float               |
| description : string         |
+------------------------------+
```

Зв’язків між сутностями немає — модель проста та не включає додаткових сутностей.

---
## 🔧 Технології та інструменти

- **Мова програмування:** Python  
- **Стиль коду:** PEP8  
- **Форматтер:** Black  
- **Лінтер:** flake8 / pylint  
- **Тестування:** pytest (ЛР5)  
- **База даних:** MySQL (ЛР4)  
- **Розгортання:** GitHub Actions + Render / Railway / Vercel (для API) (ЛР6)

---

## 🧪 Тестування (ЛР5)

Тестування є критично важливим етапом розробки, що забезпечує надійність та коректність роботи бізнес-логіки та API-інтерфейсів. Весь модуль `movie_service` покритий тестами.

Ми використовуємо фреймворк **pytest** та бібліотеку **unittest.mock** для імітації зовнішніх залежностей (таких як з'єднання з базою даних).

### 🏷️ Типи тестів

| Тип тесту | Об'єкт перевірки | Інструменти |
| :--- | :--- | :--- |
| **Unit Testing** | Модулі `movies_repository.py` та `validation.py`. Перевірка окремих функцій без зовнішніх залежностей. | Pytest, `unittest.mock` |
| **Integration Testing** | HTTP-маршрути Flask (API Endpoints) у `routes.py`. Перевірка коректної взаємодії між API та репозиторієм (імітованим). | Pytest, Flask Test Client |

### 🔍 Покриття (Test Coverage)

Наш модуль `movie_service` має **100% покриття** юніт- та інтеграційними тестами для всієї бізнес-логіки та API-шару.

### 📝 Запуск тестів

Для запуску всіх тестів (Unit та Integration) необхідно виконати команду:

```bash
python -m pytest -v
```
---

## 📂 Ключові сценарії

1. **Перегляд списку фільмів**
   * Зчитуються всі записи зі сховища.
2. **Пошук фільму**
   * Модуль Services отримує рядок запиту та фільтрує фільми за назвою.
3. **Фільтрація за жанром**
   * Користувач обирає жанр, система повертає відповідні записи.
4. **Перегляд деталей фільму**
   * Пошук фільму за `id`, повернення повної інформації про об’єкт Movie.
5. **Додавання нового фільму**
   * Формується новий запис Movie з унікальним `id`.
6. **Оновлення фільму**
   * Часткове або повне оновлення даних конкретного фільму.
7. **Видалення фільму**
   * Видалення запису з внутрішнього списку за його `id`.

---

## 🚀 План розвитку (відповідно до лабораторних)

### **ЛР0:** Вибір ідеї, створення репозиторію  
✔ Цей README

### **ЛР1:** Початкова структура проєкту  
- Налаштування форматера, лінтера, git hooks

### **ЛР2:** Проєктування  
- UML-діаграми (компоненти, ER, сценарії)

### **ЛР3:** Інтерактивний прототип  
- CLI-застосунок на статичних даних

### **ЛР4:** Підключення БД  
- Перехід із мок-даних на реальну базу

### **ЛР5:** Тестування  
- unit, integration, e2e, mutation testing

### **ЛР6:** Розгортання  
- CI/CD та завантаження програми на хостинг

---
